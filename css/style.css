* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

@font-face {
  font-family: 'Bodoni';
  src: url('fonts/Bodoni.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'Gotham';
  src: url('fonts/Gotham-Book.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
}

body {
  font-family: 'Bodoni', Arial, sans-serif;
  background: #000;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  height: calc(var(--vh, 1vh) * 100);
  min-height: calc(var(--vh, 1vh) * 100);
}


.game-container {
    position: relative;
    width: 100vw;
    height: calc(var(--vh, 1vh) * 100);
    max-width: 56.25vh; /* 9:16 aspect ratio */
    /*max-height: 177.78vw;  16:9 aspect ratio inverted */
    background: #87CEEB;
    overflow: hidden;
    border-radius: 0;
}


#backgroundImage {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 1;
    left: 0;
    top:0;

}

#bolhaPrincipal{
  width: 80%;
  left: 10%;
  margin-top: 30vh;
  margin-bottom: auto;
  z-index: 2;
  position: relative;
  animation: zoomSuave 3s ease-in-out infinite;
}

@keyframes zoomSuave {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.07);
  }
  100% {
    transform: scale(1);
  }
}

* { margin: 0; padding: 0; box-sizing: border-box; }

html, body {
  height: 100%;
}

body {
  font-family: 'Bodoni', Arial, sans-serif;
  background: #000;
  display: grid;
  place-items: center;
  overflow: hidden;
  -webkit-tap-highlight-color: transparent;
}

/*.game-container {
  position: relative;
  width: min(100vw, 56.25vh);  9:16 cabe em qualquer tela 
  aspect-ratio: 9 / 16;
  background: #87CEEB;
  overflow: hidden;
  border-radius: 0;
  touch-action: none;
}*/

/* Camadas ---------------------------------------------------- */
#backgroundVideo,
#userCamera,
#userMaskCanvas,
#gameCanvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

/* Vídeo de fundo (nuvens) */
#backgroundVideo {
  z-index: 1;
  object-fit: cover;
  opacity: 0.8;
  will-change: transform; /* ajuda em escala/resizes */
}

#userCamera {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 2;    /* acima do fundo, abaixo das bolhas */
  opacity: 1;    /* visível */
  transform: scaleX(-1); /* espelho (tire se não quiser) */
  display: block;
}


@keyframes blink {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.4; /* fica semi-transparente no meio */
  }
}

/* Aplica o blink nos dois botões */
#startButton.blink{
  animation: blink 1s infinite;
}


#texto_final{
    position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 72%;
z-index: 999;
text-align: center;
color: #fff;
    display: none;
}


/* Máscara da pessoa (BodyPix) */
#userMaskCanvas {
  z-index: 2;
  pointer-events: none;
  transform: scaleX(-1); /* alinha com a câmera espelhada */
}

/* Canvas do jogo (bolhas) */
#gameCanvas {
  z-index: 3;
  cursor: pointer;
  image-rendering: auto;
}

/* UI --------------------------------------------------------- */
.game-controls {
  position: absolute;
  top: 16px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 4;
  text-align: center;
}

/* Botão de Start centralizado na tela */
#startButton {
   font-family: 'Bodoni', Arial, sans-serif;
  position: absolute;
bottom: 7%;
  left: 50%;
    transform: translate(-50%, -50%);
  background: linear-gradient(135deg, #ff8c00, #ff6b00);
  color: black;
   border: none;
  padding: 2% 10%;
  border-radius: 0;
  font-size: 5vw;
  font-weight: bold;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
  z-index: 10; /* garante que fique por cima */
}

/* Placa de pontuação */
.score-container {
  position: absolute;   /* use absoluto dentro do container, não fixed */
 
  background: none;
  color: black;
  border-radius: 0;
  font-weight: bold;
  z-index: 5;
 display: none;
  justify-content: center;
  user-select: none;
  pointer-events: none; /* não bloqueia toques no canvas */
}

.score-item { text-align: center; display: flex; flex-direction: column; align-items: center; }
.score-label { font-size: 12px; font-weight: normal; margin-bottom: 4px; opacity: .9; }
.score-value { font-size: 22px; font-family: 'Gotham', Arial, sans-serif; }

/* Mensagens -------------------------------------------------- */
.permission-message,
.loading-message {
display:none;
}
.permission-message.hidden { display: none; }

/* Mobile ----------------------------------------------------- */
@media (max-width: 768px) {
  .game-container {
    width: 100vw;       /* ocupa toda a largura */
    height: 100dvh;      /* respeita notch/teclado */
    aspect-ratio: auto; /* deixa o JS cuidar do bitmap; visual é full */
  }

  #startButton {
    padding: 10px 18px;
    font-size: 15px;
     position: absolute;
 bottom: 7%;
  left: 50%;
  transform: translate(-50%, -50%); /* centraliza */
  
    background: linear-gradient(135deg, #ff8c00, #ff6b00);  color: white;
   border: none;
  padding: 2% 5%;
  border-radius: 0;
  font-size: 18px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
  z-index: 10; /* garante que fique por cima */
  }

  .score-container { 
    gap: 20px; 
    min-width: 220px; 
    padding: 8px 14px; 
  }
}

/* Acessibilidade: reduz animações se preferido pelo usuário */
@media (prefers-reduced-motion: reduce) {
  #startButton { transition: none; }
}

    

/* Canvas da máscara do usuário */
#userMaskCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 2; /* Entre o vídeo de fundo e as bolhas */
    pointer-events: none;
    transform: scaleX(-1); /* Espelhar horizontalmente */
}

/* Canvas para as bolhas */
#gameCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 3;
    cursor: pointer;
    touch-action: none;
}

/* Controles do jogo */
.game-controls {
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 4;
    text-align: center;
}

#startButton {
    background-image: url(./../images/startButtonBg.png);
    background-size: cover;
    color: black;
    padding: 19px 125px;
    border-radius: 0;
    font-size: 31px;
    text-transform: uppercase;
    font-weight: normal;
    letter-spacing: 1px;
    cursor: pointer;
    box-shadow: 5px 5px 15px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
    margin-bottom: 10px;
}


.score-item {
    text-align: center;
    display: flex;
    
    align-items: center;
}

.score-label {
    font-size: 21px;
letter-spacing: 1px;
font-weight: normal;
margin-bottom: 10px;
opacity: 0.9;
white-space: nowrap;
  /* impede quebra de linha */

}

.score-value {
    font-size: 42px;
    font-weight: bold;
}

/* Mensagem de permissão */
.permission-message {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.8);
    color: white;
    padding: 30px;
    border-radius: 5px;
    text-align: center;
    z-index: 5;
    font-size: 18px;
}

.permission-message.hidden {
    display: none;
}

/* Mensagem de carregamento do modelo */
.loading-message {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 30px;
    border-radius: 5px;
    text-align: center;
    z-index: 6;
    font-size: 18px;
}

/* Responsividade para dispositivos móveis */
@media (max-width: 768px) {
    .game-container {
        width: 100vw;
        height: 100vh;
        max-width: none;
        max-height: none;
    }
    
    #startButton {
        padding: 20px 105px;
        font-size: 26px;
    }
    
    .score {
        font-size: 14px;
        padding: 8px 16px;
    }
    
    .permission-message {
        padding: 20px;
        font-size: 16px;
        margin: 0 20px;
    }
    .score-label{
      font-size: 16px;
    }
}

/* Animações para as bolhas */
@keyframes bubble-float {
    0% {
        transform: translateY(0) scale(0);
        opacity: 0;
    }
    10% {
        opacity: 1;
        transform: scale(1);
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translateY(-100vh) scale(1.2);
        opacity: 0;
    }
}

@keyframes bubble-pop {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.3);
        opacity: 0.7;
    }
    100% {
        transform: scale(0);
        opacity: 0;
    }
}


/* ---------- SCORE: versão maior ---------- */
.score-container{
position: absolute !important;
bottom: 4%;
width: 85.5%;
margin: 0 12%;
padding: clamp(5px, 2.5vw, 12px) clamp(18px, 4vw, 36px);
gap: clamp(22px, 18vw, 100px);
border-radius: 0;
box-sizing: border-box;
}



/* Valor BEM maior */
.score-value{
  font-size: clamp(23px, 4vw, 44px);
  font-weight: 100;
  line-height: 1.1;
}

.score-item{
  min-width: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
}

@media (max-width: 360px){
  .score-label{ font-size: 13px; }
  .score-value{ font-size: 26px; }
}
